<!DOCTYPE HTML>
<html>
<head>
    <style>
        body {
            margin: 0px;
            padding: 10px;
        }
    </style>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            new QWebChannel(qt.webChannelTransport, function(channel) {
                window.handler = channel.objects.handler;
                console.log('QWebChannel initialized');
            });
        });

        function getCurrentTime() {
            var currentTime = document.getElementById('myAudio').currentTime;
            console.log('Current Time:', currentTime);
            if (typeof handler !== 'undefined') {
                handler.receiveTime(currentTime);
            } else {
                console.error('Handler is not defined');
            }
        }
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/webcomponentsjs/2.6.0/webcomponents-loader.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/systemjs/6.9.0/system.min.js"></script>
    <script src="qwebchannel.js"></script>
</head>
<body>
    <center>
        <canvas id="myCanvas" width="800" height="500" style="background-color: #000000" autoplay></canvas>
        <audio id="myAudio" controls autoplay style="width: 800px;">
            <source src="成發(final).mp3" type="audio/mp3">
        </audio>
    </center>
    <script type="text/javascript" src="data.js" charset="utf-8"></script>
    <script type="text/javascript" src="pos.js" charset="utf-8"></script>
    <script type="text/javascript" src="main.js" charset="utf-8"></script>
</body>
</html>
